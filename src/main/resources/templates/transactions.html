<!-- templates/transactions.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Transactions</title>
  <link rel="stylesheet" th:href="@{/static.css}">
</head>
<body>
<div class="container">
  <nav>
    <ul>
      <li><a th:href="@{/dashboard}">Dashboard</a></li>
      <li><a th:href="@{/transactions}">Transactions</a></li>
      <li><a th:href="@{/budget}">Budget</a></li>
      <li><a th:href="@{/logout}">Logout</a></li>
    </ul>
  </nav>

  <h1>Transactions</h1>

  <div class="section">
    <h2>Add New Transaction</h2>
    <form th:action="@{/transactions/add}" th:object="${transaction}" method="post">
      <div class="form-group">
        <label for="account">Account:</label>
        <select id="account" th:field="*{account}" required>
          <option value="">Select Account</option>
          <option th:each="account : ${accounts}" th:value="${account.id}" th:text="${account.name}"></option>
        </select>
      </div>
      <div class="form-group">
        <label for="amount">Amount:</label>
        <input type="number" step="0.01" id="amount" th:field="*{amount}" required>
      </div>
      <div class="form-group">
        <label for="description">Description:</label>
        <input type="text" id="description" th:field="*{description}" required>
      </div>
      <div class="form-group">
        <label for="category">Category:</label>
        <input type="text" id="category" th:field="*{category}" required>
      </div>
      <div class="form-group">
        <label for="type">Type:</label>
        <select id="type" th:field="*{type}" required>
          <option value="">Select Type</option>
          <option value="INCOME">Income</option>
          <option value="EXPENSE">Expense</option>
        </select>
      </div>
      <div class="form-group">
        <label for="date">Date:</label>
        <input type="date" id="date" th:field="*{date}" required>
      </div>
      <button type="submit">Add Transaction</button>
    </form>
  </div>

  <div class="section">
    <h2>Transaction History</h2>
    <table>
      <thead>
      <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Category</th>
        <th>Amount</th>
        <th>Type</th>
        <th>Account</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="transaction : ${transactions}">
        <td th:text="${transaction.date}"></td>
        <td th:text="${transaction.description}"></td>
        <td th:text="${transaction.category}"></td>
        <td th:text="${transaction.amount}"></td>
        <td th:text="${transaction.type}"></td>
        <td th:text="${transaction.account.name}"></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>
